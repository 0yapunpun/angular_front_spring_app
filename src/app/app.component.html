<div style="padding: 10%">
  <form [formGroup]="personForm" (ngSubmit)="savePerson()">
    <h3>Create User</h3>

    <div class="form-group">
      <label for="">Name</label>
      <input type="text" formControlName="name" class="form-control">

      <label for="">Surname</label>
      <input type="text" formControlName="surname" class="form-control">

      <label for="">Age</label>
      <input type="number" formControlName="age" class="form-control">

      <div>
        <label for="">Country</label> <br>
        <select name="country" formControlName='country' id="selectContry" class="form-control">
          <option [ngValue]="item" *ngFor="let item of countries"> {{item.name}} </option>
        </select>
      </div>

      <div>
        <label for="">State</label> <br>
        <select name="state" formControlName='state' id="selectState" class="form-control">
          <option [ngValue]="item" *ngFor="let item of states"> {{item.name}} </option>
        </select>
      </div>


      <div class="text-center">
        <button type="submit" class="btn btn-primary my-3" [disabled]="personForm.invalid">Send</button>
      </div>

    </div>
  </form>
</div>

<div style="padding: 10px 10%;">
  <h3>Users List </h3>
  <table class="table">
    <thead>
      <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Surname</th>
        <th>Age</th>
        <th>Country</th>
        <th>State</th>
        <th>Options</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of persons">
        <td>{{item.id}}</td>
        <td>{{item.name}}</td>
        <td>{{item.surname}}</td>
        <td>{{item.age}}</td>
        <td>{{item.country.name}}</td>
        <td>{{item.state.name}}</td>
        <td>
          <button type="button" class="btn btn-warning mx-2" (click)="editPerson(item)">Edit</button>
          <button type="button" class="btn btn-danger" (click)="deletePerson(item)">Delete</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>


<router-outlet></router-outlet>